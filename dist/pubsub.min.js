/**
 * PubSub
 * Javascript implementation of the Publish/Subscribe pattern.
 *
 * @version 3.2.2
 * @author George Raptis <georapbox@gmail.com> (georapbox.github.io)
 * @homepage https://github.com/georapbox/PubSub#readme
 * @repository https://github.com/georapbox/PubSub.git
 * @license MIT
 */

!function(t,n,r){"use strict";"function"==typeof define&&define.amd?define(r):"undefined"!=typeof module&&module.exports?module.exports=r():n.PubSub=r()}(0,this,function(){"use strict";function t(){var n,r,u;for(n=1,r=arguments.length;n<r;n++)for(u in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],u)&&(arguments[n][u]&&arguments[n][u].constructor&&arguments[n][u].constructor===Object?(arguments[0][u]=arguments[0][u]||{},t(arguments[0][u],arguments[n][u])):arguments[0][u]=arguments[n][u]);return arguments[0]}function n(t,n,r){var u;for(u in t)if(Object.prototype.hasOwnProperty.call(t,u)&&n&&!1===n.call(r,t[u],u,t))return;return t}function r(t){return function(){return this[t].apply(this,arguments)}}function u(t,n,r){for(var u,o,e=t._pubsub_topics[n],i=e?e.length:0;i;)o=e[i-=1].token,(u=e[i]).callback(r,{name:n,token:o}),!0===u.once&&t.unsubscribe(o)}function o(t,n,r,o){return!!t._pubsub_topics[n]&&(o?u(t,n,r):setTimeout(function(){u(t,n,r)},0),!0)}function e(){return this._pubsub_topics={},this._pubsub_uid=-1,this}return e.prototype.subscribe=function(t,n,r){var u=this._pubsub_topics,o=this._pubsub_uid+=1,e={};if("function"!=typeof n)throw new TypeError("When subscribing for an event, a callback function must be defined.");return u[t]||(u[t]=[]),e.token=o,e.callback=n,e.once=!!r,u[t].push(e),o},e.prototype.subscribeOnce=function(t,n){return this.subscribe(t,n,!0)},e.prototype.publish=function(t,n){return o(this,t,n,!1)},e.prototype.publishSync=function(t,n){return o(this,t,n,!0)},e.prototype.unsubscribe=function(t){var n,r,u=this._pubsub_topics,o=!1;for(n in u)if(Object.prototype.hasOwnProperty.call(u,n)&&u[n]){for(r=u[n].length;r;){if(r-=1,u[n][r].token===t)return u[n].splice(r,1),t;n===t&&(u[n].splice(r,1),o=!0)}if(!0===o)return t}return!1},e.prototype.unsubscribeAll=function(){return n(this._pubsub_topics,function(t,n,r){r[n]=[]}),this},e.prototype.hasSubscribers=function(t){var r=this._pubsub_topics,u=!1;return null==t?(n(r,function(t){if(t.length>0)return u=!0,!1}),u):!!(Object.prototype.hasOwnProperty.call(r,t)&&r[t].length>0)},e.prototype.subscribers=function(){return t({},this._pubsub_topics)},e.prototype.subscribersByTopic=function(t){return this._pubsub_topics[t]?this._pubsub_topics[t].slice(0):[]},e.prototype.alias=function(t){return n(t,function(n,u){e.prototype[u]&&(e.prototype[t[u]]=r(u))}),this},e});
//# sourceMappingURL=pubsub.min.js.map