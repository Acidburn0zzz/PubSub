/**
 * PubSub
 * Javascript implementation of the Publish/Subscribe pattern.
 *
 * @version 3.2.4
 * @author George Raptis <georapbox@gmail.com> (georapbox.github.io)
 * @homepage https://github.com/georapbox/PubSub#readme
 * @repository https://github.com/georapbox/PubSub.git
 * @license MIT
 */

!function(a,b,c){"use strict";"function"==typeof define&&define.amd?define(c):"undefined"!=typeof module&&module.exports?module.exports=c():b.PubSub=c()}(0,this,function(){"use strict";function a(){var b,c,d;for(b=1,c=arguments.length;b<c;b++)for(d in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],d)&&(arguments[b][d]&&arguments[b][d].constructor&&arguments[b][d].constructor===Object?(arguments[0][d]=arguments[0][d]||{},a(arguments[0][d],arguments[b][d])):arguments[0][d]=arguments[b][d]);return arguments[0]}function b(a,b,c){var d;for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)&&b&&!1===b.call(c,a[d],d,a))return;return a}function c(a){return function(){return this[a].apply(this,arguments)}}function d(a,b,c){for(var d,e,f=a._pubsub_topics,g=f[b],h=g?g.length:0;h;)h-=1,e=g[h].token,d=g[h],d.callback(c,{name:b,token:e}),!0===d.once&&a.unsubscribe(e)}function e(a,b,c,e){return!!a._pubsub_topics[b]&&(e?d(a,b,c):setTimeout(function(){d(a,b,c)},0),!0)}function f(){return this instanceof f?(this._pubsub_topics={},this._pubsub_uid=-1,this):new f}return f.prototype.subscribe=function(a,b,c){var d=this._pubsub_topics,e=this._pubsub_uid+=1,f={};if("function"!=typeof b)throw new TypeError("When subscribing for an event, a callback function must be defined.");return d[a]||(d[a]=[]),f.token=e,f.callback=b,f.once=!!c,d[a].push(f),e},f.prototype.subscribeOnce=function(a,b){return this.subscribe(a,b,!0)},f.prototype.publish=function(a,b){return e(this,a,b,!1)},f.prototype.publishSync=function(a,b){return e(this,a,b,!0)},f.prototype.unsubscribe=function(a){var b,c,d=this._pubsub_topics,e=!1;for(b in d)if(Object.prototype.hasOwnProperty.call(d,b)&&d[b]){for(c=d[b].length;c;){if(c-=1,d[b][c].token===a)return d[b].splice(c,1),a;b===a&&(d[b].splice(c,1),e=!0)}if(!0===e)return a}return!1},f.prototype.unsubscribeAll=function(){return b(this._pubsub_topics,function(a,b,c){c[b]=[]}),this},f.prototype.hasSubscribers=function(a){var c=this._pubsub_topics,d=!1;return null==a?(b(c,function(a){if(a.length>0)return d=!0,!1}),d):!!(Object.prototype.hasOwnProperty.call(c,a)&&c[a].length>0)},f.prototype.subscribers=function(){return a({},this._pubsub_topics)},f.prototype.subscribersByTopic=function(a){return this._pubsub_topics[a]?this._pubsub_topics[a].slice(0):[]},f.prototype.alias=function(a){return b(a,function(b,d){f.prototype[d]&&(f.prototype[a[d]]=c(d))}),this},f});
//# sourceMappingURL=pubsub.min.js.map