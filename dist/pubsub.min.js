/**
 * PubSub
 * Javascript implementation of the Publish/Subscribe pattern.
 *
 * @version 3.1.0
 * @author George Raptis <georapbox@gmail.com> (georapbox.github.io)
 * @homepage https://github.com/georapbox/PubSub#readme
 * @repository git+https://github.com/georapbox/PubSub.git
 * @license MIT
 */

!function(a,b,c){"use strict";"function"==typeof define&&define.amd?define(c):"undefined"!=typeof module&&module.exports?module.exports=c():b[a]=c()}("PubSub",this,function(){"use strict";function a(a,b,c){var d;for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)&&b&&b.call(c,a[d],d,a)===!1)return;return a}function b(a){return function(){return this[a].apply(this,arguments)}}function c(a,b,c){for(var d,e,f=a._pubsub_topics,g=f[b],h=g?g.length:0;h;)h-=1,e=g[h].token,d=g[h],d.callback(c,{name:b,token:e}),d.once===!0&&a.unsubscribe(e)}function d(a,b,d,e){var f=a._pubsub_topics;return!!f[b]&&(e?c(a,b,d):setTimeout(function(){c(a,b,d)},0),!0)}function e(){return this._pubsub_topics={},this._pubsub_uid=-1,this}return e.prototype.subscribe=function(a,b,c){var d=this._pubsub_topics,e=this._pubsub_uid+=1,f={};if("function"!=typeof b)throw new TypeError("When subscribing for an event, a callback function must be defined.");return d[a]||(d[a]=[]),f.token=e,f.callback=b,f.once=!!c,d[a].push(f),e},e.prototype.subscribeOnce=function(a,b){return this.subscribe(a,b,!0)},e.prototype.publish=function(a,b){return d(this,a,b,!1)},e.prototype.publishSync=function(a,b){return d(this,a,b,!0)},e.prototype.unsubscribe=function(a){var b,c,d=this._pubsub_topics,e=!1;for(b in d)if(Object.prototype.hasOwnProperty.call(d,b)&&d[b]){for(c=d[b].length;c;){if(c-=1,d[b][c].token===a)return d[b].splice(c,1),a;b===a&&(d[b].splice(c,1),e=!0)}if(e===!0)return a}return!1},e.prototype.unsubscribeAll=function(){return a(this._pubsub_topics,function(a,b,c){c[b]=[]}),this},e.prototype.hasSubscribers=function(b){var c=this._pubsub_topics,d=!1;return null==b?(a(c,function(a){if(a.length>0)return d=!0,!1}),d):!!(Object.prototype.hasOwnProperty.call(c,b)&&c[b].length>0)},e.prototype.alias=function(c){return a(c,function(a,d){e.prototype[d]&&(e.prototype[c[d]]=b(d))}),this},e});
//# sourceMappingURL=pubsub.min.js.map